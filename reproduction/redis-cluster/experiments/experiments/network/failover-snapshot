#!/usr/bin/env zsh
set -euv

SCRIPT_DIR=${0:a:h}

experiment_name="network-failover-snapshot"

execute () {
    masters=$1
    replicas=$2
    
    echo "Master: ${masters} - Replicas: ${replicas}"

    cd ${SCRIPT_DIR}/../../
    pipenv run python patch-benchmark --config config-cluster-failover-network.yaml --overwrite redis_cluster.config="cluster-configs/cluster-${masters}-${replicas}.yaml" failover.snapshot=True
}

source ${SCRIPT_DIR}/util

